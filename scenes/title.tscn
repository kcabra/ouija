[gd_scene load_steps=4 format=2]

[ext_resource path="res://title/intro.png" type="Texture" id=1]

[sub_resource type="GDScript" id=2]
script/source = "extends Node2D

func _ready():
	print(\"title loaded\")
"

[sub_resource type="GDScript" id=1]
script/source = "extends Sprite

onready var jogo = preload(\"res://game.tscn\")

var state = \"\"
var credits = false
var scene

func _ready():
	$jogar.connect(\"pressed\", self, \"play\")
	$creditos.connect(\"pressed\", self, \"creditos\")

func play():
	scene = load(\"res://scenes/cards.tscn\").instance()
	scene.get_node(\"intro\").visible = true
	add_child(scene)
	state = \"bla\"

func creditos():
	scene = load(\"res://scenes/cards.tscn\").instance()
	scene.get_node(\"creditos\").visible = true
	credits = true
	add_child(scene)

func _process(_delta):
	if credits and Input.is_mouse_button_pressed(BUTTON_LEFT):
		scene.queue_free()
		credits = false
	if state == \"bla\" and Input.is_mouse_button_pressed(BUTTON_LEFT):
		scene.get_node(\"intro\").visible = false
		scene.get_node(\"tutorial\").visible = true
		yield(get_tree().create_timer(0.5), \"timeout\")
		state = \"bli\"
	elif state == \"bli\" and Input.is_mouse_button_pressed(BUTTON_LEFT):
		get_tree().change_scene_to(jogo)"

[node name="title" type="Node2D"]
script = SubResource( 2 )

[node name="menu" type="Sprite" parent="."]
texture = ExtResource( 1 )
centered = false
script = SubResource( 1 )

[node name="jogar" type="TextureButton" parent="menu"]
margin_left = 83.0
margin_top = 558.0
margin_right = 517.0
margin_bottom = 646.0

[node name="creditos" type="TextureButton" parent="menu"]
margin_left = 83.0
margin_top = 663.0
margin_right = 517.0
margin_bottom = 751.0

[node name="Timer" type="Timer" parent="menu"]
one_shot = true
[connection signal="timeout" from="menu/Timer" to="menu" method="switch"]
